---
import Layout from "../layouts/Layout.astro";
---

<Layout title="Sponsors">
  <section class="sponsors">
    <!-- <h1>Thank you to our sponsors for supporting our vision</h1> -->

    <!-- <div class="animation-container"> -->
    <svg
      id="motion-path-svg"
      viewBox="0 0 1500 1000"
      style="display: block; margin: auto;"
    >
      <path id="motion-path" d="M 750,0 A 750,500 0 1,0 750.1,0" fill="none">
      </path>
    </svg>

    <div class="sponsor-block" id="varsity">
      <h2>Varsity</h2>
      <div class="sponsor-images">
        <img
          src="/src/assets/sponsor_logos/hoffeman-white.png"
          alt="Hoffeman"
        />
        <img src="/src/assets/sponsor_logos/altium-color.png" alt="Altium" />
        <img src="/src/assets/sponsor_logos/siemens-white.png" alt="Siemens" />
      </div>
    </div>

    <div class="sponsor-block" id="gold">
      <h2>Gold</h2>
      <div class="sponsor-images">
        <img src="/src/assets/sponsor_logos/maxeon-white.png" alt="Maxeon" />
      </div>
    </div>

    <div class="sponsor-block" id="bronze">
      <h2>Bronze</h2>
      <div class="sponsor-images">
        <img
          src="/src/assets/sponsor_logos/coe-color.png"
          alt="College of Engineering"
        />
        <img src="/src/assets/sponsor_logos/generac-color.png" alt="Generac" />
        <img src="/src/assets/sponsor_logos/xes-color.png" alt="XES" />
      </div>
    </div>
    <div id="sponsor-deep">
      <h2 id="sponsor-category">Sponsor Category</h2>
      <div id="sponsor-body"></div>
    </div>
  </section>
  <script>
    import { gsap } from "gsap";
    import { MotionPathPlugin } from "gsap/MotionPathPlugin";

    gsap.registerPlugin(MotionPathPlugin);

    const varsityAnimation = gsap.to("#varsity", {
      duration: 30, // Controls the time it takes to complete one circle
      repeat: -1, // Infinite loop
      ease: "linear", // Keeps speed constant
      motionPath: {
        path: "#motion-path",
        align: "#motion-path",
        alignOrigin: [0.5, 0.5],
        autoRotate: false, // Ensures the rectangle follows the path's direction
        start: 0,
        end: 1,
      },
    });

    const goldAnimation = gsap.to("#gold", {
      duration: 30, // Controls the time it takes to complete one circle
      repeat: -1, // Infinite loop
      ease: "linear", // Keeps speed constant
      motionPath: {
        path: "#motion-path",
        align: "#motion-path",
        alignOrigin: [0.5, 0.5],
        autoRotate: false, // Ensures the rectangle follows the path's direction
        start: 0.333333,
        end: 1.333333,
      },
    });

    const bronzeAnimation = gsap.to("#bronze", {
      duration: 30, // Controls the time it takes to complete one circle
      repeat: -1, // Infinite loop
      ease: "linear", // Keeps speed constant
      motionPath: {
        path: "#motion-path",
        align: "#motion-path",
        alignOrigin: [0.5, 0.5],
        autoRotate: false, // Ensures the rectangle follows the path's direction
        start: 0.666666,
        end: 1.66666,
      },
    });

    const varsityObj = document.getElementById("varsity")!;
    const goldObj = document.getElementById("gold")!;
    const bronzeObj = document.getElementById("bronze")!;
    const sponsor_deep = document.getElementById("sponsor-deep")!;
    const sponsor_category = document.getElementById("sponsor-category")!;
    const sponsor_body = document.getElementById("sponsor-body")!;

    const sponsorInfo = {
      Varsity: [
        { name: "Hoffeman", info: "desc" },
        { name: "Altium", info: "desc" },
        { name: "Siemens", info: "desc" },
      ],
      Gold: [{ name: "Maxeon", info: "desc" }],
      Bronze: [
        { name: "College of Engineering", info: "desc" },
        { name: "Generac", info: "desc" },
        { name: "XES", info: "desc" },
      ],
    };

    const setDescription = (block: "Varsity" | "Gold" | "Bronze") => {
      sponsor_category.textContent = block;
      sponsor_body.innerHTML = "";

      sponsorInfo[block].forEach((oneSponsor) => {
        const name_element = document.createElement("h3");
        name_element.textContent = oneSponsor.name;

        const description_element = document.createElement("p");
        description_element.textContent = oneSponsor.info;

        sponsor_body.appendChild(name_element);
        sponsor_body.appendChild(description_element);
      });
    };

    varsityObj.addEventListener("click", () => {
      setDescription("Varsity");
      sponsor_deep.classList.add("active");
    });

    goldObj.addEventListener("click", () => {
      setDescription("Gold");
      sponsor_deep.classList.add("active");
    });

    bronzeObj.addEventListener("click", () => {
      setDescription("Bronze");
      sponsor_deep.classList.add("active");
    });
    // document.querySelector("#varsity")?.addEventListener("mouseleave", () => {
    //   varsityAnimation.resume(); // Resume the Varsity animation
    // });

    // document.querySelector("#gold")?.addEventListener("mouseenter", () => {
    //   goldAnimation.pause(); // Pause the Gold animation
    // });
    // document.querySelector("#gold")?.addEventListener("mouseleave", () => {
    //   goldAnimation.resume(); // Resume the Gold animation
    // });

    // document.querySelector("#bronze")?.addEventListener("mouseenter", () => {
    //   bronzeAnimation.pause(); // Pause the Bronze animation
    // });
    // document.querySelector("#bronze")?.addEventListener("mouseleave", () => {
    //   bronzeAnimation.resume(); // Resume the Bronze animation
    // });
  </script>
</Layout>

<style>
  /* General Reset */
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  /* Main Section */
  .sponsors {
    /* padding: 60px 20px; */
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .animation-container {
    /* position: absolute; */
    /* width: 1000px;
    height: 500px; */
  }

  svg {
    display: block; /* Makes <svg> behave like a block element */
    margin: 0 auto; /* Horizontally center it (if a fixed width is set) */
    width: 650px; /* You can change this to any size you like */
    height: auto; /* Maintain aspect ratio */
    /* or you could do max-width: 100% for responsiveness */
  }

  h1 {
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 40px;
    font-family: "Roboto", sans-serif;
  }

  h2 {
    font-size: 1.5rem;
    font-weight: 500;
    color: #fff;
    margin-bottom: 20px;
    text-transform: uppercase;
  }

  /* Sponsor Blocks */
  .sponsor-block {
    display: flex;
    flex-direction: column;
    position: absolute;
    top: 0;
    left: 0;
    border-radius: 50%;
    /* justify-content: center; */
    align-items: center;
    padding: 30px;
    transition: transform 0.3s ease;
    border-style: solid;
    border-width: 1px;
  }

  .sponsor-block:hover {
    transform: scale(1.05);
  }

  #varsity {
    background-color: rgba(211, 27, 56, 0.2); /* Crimson */
    /* background-color: transparent; */
    width: 300px;
    height: 300px;

    img {
      width: 90px;
    }
  }

  #gold {
    background-color: rgba(255, 180, 0, 0.2); /* Gold */
    width: 250px;
    height: 250px;

    img {
      width: 75px;
    }
  }

  #bronze {
    background-color: rgba(110, 77, 37, 0.2); /* Bronze */
    width: 200px;
    height: 200px;

    img {
      width: 45px;
    }
  }

  /* Sponsor Images */
  .sponsor-images {
    display: flex;
    justify-content: center;
    gap: 40px;
    flex-wrap: wrap;
  }

  #sponsor-deep {
    display: none;
    padding: 15px;
    margin: 30px;
    border-radius: 20px;
    background-color: rgb(60, 60, 60);
    border-color: white;
    border-width: 2px;
    border-style: solid;
    width: 40%;
  }

  #sponsor-deep.active {
    display: block;
  }

  /* .sponsor-images img:hover {
    transform: scale(1.05);
  } */

  /* Mobile Responsiveness */
  @media (max-width: 768px) {
    h1 {
      font-size: 2rem;
    }

    .sponsor-block {
      padding: 20px;
    }

    .sponsor-images {
      gap: 20px;
    }

    .sponsor-images img {
      width: 120px;
    }
  }

  @media (max-width: 480px) {
    h1 {
      font-size: 1.5rem;
    }

    .sponsor-images img {
      width: 100px;
    }
  }
</style>
